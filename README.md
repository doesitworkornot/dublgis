# DublGIS – “City Akinator” Chat Game (Russian)

> **This README is in English. The in‑game dialogue generated by the AI is entirely in Russian.**

## What is it?

**DublGIS** is a small hobby project that turns OpenAI GPT‑4o into a Russian‑language «Akinator» that makes you guess random landmarks across Russian cities. It queries the public 2GIS Places API to fetch a sight with a detailed description, feeds that text to GPT‑4o and lets you ask yes/no questions until you name the place.

## Features

* **AI game‑master** powered by GPT‑4o chat‑completions.
* **Intent classifier** (tiny GPT‑4.1‑mini) that detects guesses, resets or correct answers. 
* **2GIS integration**: picks attractions with meaningful descriptions, grabs photos, ratings and browser links. 
* **Pure‑CLI loop** – run `python src/main.py` in any terminal, no extra setup. 
* Telegram‑bot dependencies are already included – drop your token and plug a handler when you’re ready. 

## Quick start

```bash
git clone https://github.com/doesitworkornot/dublgis.git
cd dublgis
python -m venv .venv && source .venv/bin/activate  # optional
pip install -r requirements.txt
```

Create a file called **`.env`** in the project root with two lines:

```env
openai_key=<your-openai-api-key>
dublgis=<your-2gis-api-key>
telegram_token=<your-telegram-api-key>
```

Then simply run:
```bash
python src/telegram_bot.py
```
CMD without images support:
```bash
python src/main.py
```

Follow the prompts (in Russian) and try to guess the hidden landmark!

## Project layout

```
src/
├─ dublgis/            # 2GIS REST API wrapper
├─ model/              # GPT‑4o "game master" + memory
├─ predict_model/      # Intent‑classification helper
├─ main.py             # Terminal entrypoint
└─ …                   # Makefile, pre‑commit config, etc.
```

## Development helpers

```bash
make shell         # pipenv shell with Python 3.11
make lint-check    # ruff check src
make format-check  # ruff format --check src
make lint-fix      # auto‑fix style issues
```

## License

No explicit license yet. Open an issue or create a PR if you need one.

## Acknowledgements

* 2GIS Catalog API for free access to Russian place data.
* OpenAI Chat Completions API.

---

**Enjoy the game!**
